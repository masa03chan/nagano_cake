<div>
  <%= flash[:notice] %>
</div>
<div class="container">
  <div class="row justify-content-between align-items-center">
    <h5 class="d-inline-block bg-light col-sm-3 text-center my-4 mx-0 text-nowrap">ショッピングカート</h5>
    <% if @cart_items.present? %>
    <span class="col-sm-3 ">
      <%= link_to "カートを空にする", cart_items_destroy_all_path, method: :delete, "data-confirm" => "カート内の全ての商品が空になります。よろしいですか？", class: "btn btn-danger text-nowrap" %>
    </span>
    <% end %>
  </div>
  <% if @cart_items.present? %>
  <div class="row">
    <div class="col-sm-12">
      <table class="table table-bordered">
        <thead class="thead-light">
          <tr class="text-nowrap">
            <th scope="col-sm-4">商品名</th>
            <th scope="col-sm-2">単価(税込)</th>
            <th scope="col-sm-2">数量</th>
            <th scope="col-sm-2">小計</th>
            <th scope="col-sm-2"></th>
          </tr>
        </thead>
        <tbody>
          <% @cart_items.each do |cart_item| %>
            <tr class="table">
              <td class="col-sm-4"><%= image_tag cart_item.item.image, class: "image" %><%= cart_item.item_name %></td>
              <td class="col-sm-2 text-nowrap"><%= cart_item.with_tax_price..to_s(:delimited) %></td>
              <td class="col-sm-2">
                <select multiple class="form-control">
                  <%= cart_item.amount %>
                </select>
              </td><%= f.select :amount, *[1..3], placeholder: "個数" %>
              <td class="col-sm d-flex flex-row">
                <%= link_to "削除する", address_path(address.id), method: :delete, "data-confirm" => "本当に削除しますか？", class: "col-sm btn btn-danger text-nowrap" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
  <% else %>
    <p class="text-center">カートは空です。ショッピングをお楽しみください。</p>
  <% end %>
</div>